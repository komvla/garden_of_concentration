{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineComponent, ref, reactive, computed } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nexport default defineComponent({\n  setup() {\n    // plant info\n    const route = useRoute();\n    const router = useRouter();\n    const store = useStore();\n    const plantType = route.params.type;\n    const plantInfo = store.state.typesPlants.find(item => item.type === plantType);\n\n    // timer functionality \n    const buttonRef = ref(null);\n    const timeLeft = reactive({\n      value: plantInfo.growingTime\n    });\n    const timer = ref(null);\n    const gameState = reactive({\n      started: false,\n      finished: false,\n      won: false\n    });\n    const message = ref('');\n    const showMessage = ref(false);\n    const startTimer = () => {\n      if (!gameState.started) {\n        gameState.started = true;\n        timer.value = setInterval(() => {\n          timeLeft.value--;\n          if (timeLeft.value === 0) {\n            clearInterval(timer.value);\n            gameState.finished = true;\n            gameState.won = true;\n          }\n        }, 1000);\n      }\n    };\n    const stopTimer = () => {\n      if (gameState.started && !gameState.finished) {\n        clearInterval(timer.value);\n        gameState.finished = true;\n        gameState.won = false;\n      }\n    };\n    const resetGame = () => {\n      timeLeft.value = plantInfo.growingTime;\n      gameState.started = false;\n      gameState.finished = false;\n      gameState.won = false;\n    };\n    const buttonText = computed(() => {\n      if (gameState.finished) {\n        return gameState.won ? 'You win!' : 'You lose!';\n      }\n      return gameState.started ? `${timeLeft.value} seconds left` : 'Move cursor to start';\n    });\n    const showTryAgain = computed(() => {\n      return gameState.finished && !gameState.won;\n    });\n    const showButtonPlaceAPlant = computed(() => {\n      return gameState.finished && gameState.won;\n    });\n    const placeAPlant = () => {\n      store.commit('placePlantToField', plantInfo.type);\n      router.push(`/`);\n    };\n    return {\n      plantInfo,\n      plantType,\n      buttonRef,\n      buttonText,\n      showTryAgain,\n      showButtonPlaceAPlant,\n      startTimer,\n      stopTimer,\n      resetGame,\n      message,\n      showMessage,\n      placeAPlant\n    };\n  }\n});","map":{"version":3,"mappings":";AA8CA,SAASA,eAAe,EAAEC,GAAG,EAAEC,QAAQ,EAAEC,QAAO,QAAS,KAAK;AAC9D,SAASC,QAAQ,EAAEC,SAAQ,QAAS,YAAY;AAChD,SAASC,QAAO,QAAS,MAAM;AAG/B,eAAeN,eAAe,CAAC;EAE7BO,KAAK,GAAG;IACN;IACA,MAAMC,KAAI,GAAIJ,QAAQ,EAAE;IACxB,MAAMK,MAAK,GAAIJ,SAAS,EAAE;IAC1B,MAAMK,KAAI,GAAIJ,QAAQ,EAAE;IAExB,MAAMK,SAAQ,GAAIH,KAAK,CAACI,MAAM,CAACC,IAAI;IAEnC,MAAMC,SAAQ,GAAIJ,KAAK,CAACK,KAAK,CAACC,WAAW,CAACC,IAAI,CAACC,IAAG,IAAKA,IAAI,CAACL,IAAG,KAAMF,SAAS,CAAC;;IAE/E;IACA,MAAMQ,SAAQ,GAAIlB,GAAG,CAAC,IAAI,CAAC;IAC3B,MAAMmB,QAAO,GAAIlB,QAAQ,CAAC;MAAEmB,KAAK,EAAEP,SAAS,CAACQ;IAAY,CAAC,CAAC;IAC3D,MAAMC,KAAI,GAAItB,GAAG,CAAC,IAAI,CAAC;IACvB,MAAMuB,SAAQ,GAAItB,QAAQ,CAAC;MACzBuB,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE,KAAK;MACfC,GAAG,EAAE;IACP,CAAC,CAAC;IACF,MAAMC,OAAM,GAAI3B,GAAG,CAAC,EAAE,CAAC;IACvB,MAAM4B,WAAU,GAAI5B,GAAG,CAAC,KAAK,CAAC;IAE9B,MAAM6B,UAAS,GAAI,MAAM;MACvB,IAAI,CAACN,SAAS,CAACC,OAAO,EAAE;QACtBD,SAAS,CAACC,OAAM,GAAI,IAAI;QACxBF,KAAK,CAACF,KAAI,GAAIU,WAAW,CAAC,MAAM;UAC9BX,QAAQ,CAACC,KAAK,EAAE;UAChB,IAAID,QAAQ,CAACC,KAAI,KAAM,CAAC,EAAE;YACxBW,aAAa,CAACT,KAAK,CAACF,KAAK,CAAC;YAC1BG,SAAS,CAACE,QAAO,GAAI,IAAI;YACzBF,SAAS,CAACG,GAAE,GAAI,IAAI;UACtB;QACF,CAAC,EAAE,IAAI,CAAC;MACV;IACF,CAAC;IAED,MAAMM,SAAQ,GAAI,MAAM;MACtB,IAAIT,SAAS,CAACC,OAAM,IAAK,CAACD,SAAS,CAACE,QAAQ,EAAE;QAC5CM,aAAa,CAACT,KAAK,CAACF,KAAK,CAAC;QAC1BG,SAAS,CAACE,QAAO,GAAI,IAAI;QACzBF,SAAS,CAACG,GAAE,GAAI,KAAK;MACvB;IACF,CAAC;IAED,MAAMO,SAAQ,GAAI,MAAM;MACtBd,QAAQ,CAACC,KAAI,GAAIP,SAAS,CAACQ,WAAW;MACtCE,SAAS,CAACC,OAAM,GAAI,KAAK;MACzBD,SAAS,CAACE,QAAO,GAAI,KAAK;MAC1BF,SAAS,CAACG,GAAE,GAAI,KAAK;IACvB,CAAC;IAED,MAAMQ,UAAS,GAAIhC,QAAQ,CAAC,MAAM;MAChC,IAAIqB,SAAS,CAACE,QAAQ,EAAE;QACtB,OAAOF,SAAS,CAACG,GAAE,GAAI,UAAS,GAAI,WAAW;MACjD;MACA,OAAOH,SAAS,CAACC,OAAM,GAAK,GAAEL,QAAQ,CAACC,KAAK,eAAc,GAAI,sBAAsB;IACtF,CAAC,CAAC;IAEF,MAAMe,YAAW,GAAIjC,QAAQ,CAAC,MAAM;MAClC,OAAOqB,SAAS,CAACE,QAAO,IAAK,CAACF,SAAS,CAACG,GAAG;IAC7C,CAAC,CAAC;IAEF,MAAMU,qBAAoB,GAAIlC,QAAQ,CAAC,MAAM;MAC3C,OAAOqB,SAAS,CAACE,QAAO,IAAKF,SAAS,CAACG,GAAG;IAC5C,CAAC,CAAC;IAEF,MAAMW,WAAU,GAAI,MAAM;MACxB5B,KAAK,CAAC6B,MAAM,CAAC,mBAAmB,EAAEzB,SAAS,CAACD,IAAI;MAChDJ,MAAM,CAAC+B,IAAI,CAAE,GAAE;IACjB,CAAC;IAGD,OAAO;MACL1B,SAAS;MACTH,SAAS;MACTQ,SAAS;MACTgB,UAAU;MACVC,YAAY;MACZC,qBAAqB;MACrBP,UAAU;MACVG,SAAS;MACTC,SAAS;MACTN,OAAO;MACPC,WAAW;MACXS;IACF,CAAC;EACH;AACF,CAAC","names":["defineComponent","ref","reactive","computed","useRoute","useRouter","useStore","setup","route","router","store","plantType","params","type","plantInfo","state","typesPlants","find","item","buttonRef","timeLeft","value","growingTime","timer","gameState","started","finished","won","message","showMessage","startTimer","setInterval","clearInterval","stopTimer","resetGame","buttonText","showTryAgain","showButtonPlaceAPlant","placeAPlant","commit","push"],"sourceRoot":"","sources":["/home/vlad/Escritorio/Programming/garden_of_concentration/src/components/pages/GrowSpot.vue"],"sourcesContent":["<template>\n    <v-card     \n    class=\"mx-auto my-10 \"\n    max-width=\"600\"\n    >\n    <div class=\"container grid grid-cols-1 gap-4  justify-items-center\">\n    <h3 class=\"\">{{plantInfo.name}}</h3>\n    <div class=\"img-wrapper\">\n    <img class=\" h-64\" :src=\"require(`@/assets/${plantInfo.type}.png`)\" />\n    </div>\n    <v-card-content>\n  <div>\n    <div class=\"text-center\">\n      <button\n        ref=\"button\"\n        class=\"px-6 py-3 bg-green-500 text-white rounded-lg m-2\"\n        @mouseover=\"startTimer\"\n        @mouseout=\"stopTimer\"\n      >\n        {{ buttonText }}\n      </button>\n      <button\n        class=\"ml-2 px-6 py-3 bg-red-500 text-white rounded-lg m-2\"\n        v-if=\"showTryAgain\"\n        @click=\"resetGame\"\n      >\n        Try Again\n      </button>\n      <button\n        ref=\"button\"\n        class=\"px-6 py-3 bg-green-500 text-white rounded-lg m-2\"\n        v-if=\"showButtonPlaceAPlant\"\n      >\n        Place a plant\n      </button>\n\n    </div>\n\n  </div>\n    </v-card-content>\n    </div>\n\n    </v-card>\n</template>\n<script>\n\nimport { defineComponent, ref, reactive, computed } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\n\n\nexport default defineComponent({\n\n  setup() {\n    // plant info\n    const route = useRoute();\n    const router = useRouter();\n    const store = useStore();\n\n    const plantType = route.params.type;\n    \n    const plantInfo = store.state.typesPlants.find(item => item.type === plantType);\n\n    // timer functionality \n    const buttonRef = ref(null);\n    const timeLeft = reactive({ value: plantInfo.growingTime });\n    const timer = ref(null);\n    const gameState = reactive({\n      started: false,\n      finished: false,\n      won: false,\n    });\n    const message = ref('');\n    const showMessage = ref(false);\n\n    const startTimer = () => {\n      if (!gameState.started) {\n        gameState.started = true;\n        timer.value = setInterval(() => {\n          timeLeft.value--;\n          if (timeLeft.value === 0) {\n            clearInterval(timer.value);\n            gameState.finished = true;\n            gameState.won = true;\n          }\n        }, 1000);\n      }\n    };\n\n    const stopTimer = () => {\n      if (gameState.started && !gameState.finished) {\n        clearInterval(timer.value);\n        gameState.finished = true;\n        gameState.won = false;\n      }\n    };\n\n    const resetGame = () => {\n      timeLeft.value = plantInfo.growingTime;\n      gameState.started = false;\n      gameState.finished = false;\n      gameState.won = false;\n    };\n\n    const buttonText = computed(() => {\n      if (gameState.finished) {\n        return gameState.won ? 'You win!' : 'You lose!';\n      }\n      return gameState.started ? `${timeLeft.value} seconds left` : 'Move cursor to start';\n    });\n\n    const showTryAgain = computed(() => {\n      return gameState.finished && !gameState.won;\n    });\n\n    const showButtonPlaceAPlant = computed(() => {\n      return gameState.finished && gameState.won;\n    });\n\n    const placeAPlant = () => {\n      store.commit('placePlantToField', plantInfo.type)\n      router.push(`/`)\n    };\n   \n\n    return { \n      plantInfo, \n      plantType, \n      buttonRef,\n      buttonText,\n      showTryAgain,\n      showButtonPlaceAPlant,\n      startTimer,\n      stopTimer,\n      resetGame,\n      message,\n      showMessage,\n      placeAPlant\n    };\n  },\n}) \n\n</script>\n<style scoped>\n    \n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}